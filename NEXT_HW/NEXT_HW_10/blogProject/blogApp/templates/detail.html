{% extends 'base.html' %} {% block css %} {% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'detail.css' %}" />
{% endblock %} {% block content %}
<hr/>
        <h2>POST_DETAIL</h2>
<hr/>
        <div>
            <h3>제목</h3>
            <div>{{ article.title }}</div>
        </div>
        <div>
            <h3>내용</h3>
            <div>{{ article.content }}</div>
        </div>
        <div>
            <h3>작성 시간</h3>
            <div>{{ article.created_at|date:"Y-m-d H:i" }}</div>
        </div>
        <form method="POST">
            {% csrf_token %}
            <input type="text" name="content" placeholder="댓글을 입력해주세요" />
            <button type="submit">작성하기</button>
        </form>

        {% for comment in article.comments.all %}
        <li>{{ comment.content }}
            <a href={% url 'delete_comment' article.id comment.pk %}>삭제</a>
            <form method="POST">
                {% csrf_token %}
                <input type="text" name="content" placeholder="대댓글을 입력해주세요" />
                <input type="hidden" name="comment_id" value="{{ comment.pk }}" />
                <button type="submit">작성하기</button>
            </form>
            <ul>
                {% for reply in comment.replies.all %}
                    <li>{{ reply.content }}
                        <a href="{% url 'delete_comment' article.id reply.pk %}">삭제</a>
                    </li>
                {% endfor %}
            </ul>
        </li>
    {% endfor %}

        <a href="{% url 'list' %}">전체 목록으로 돌아가기</a>
{% endblock %}
